<main class="main login-center">
  <div class="container">
    
    <div class="card login-box">
      <h1>Inicio de Sesión</h1>
      
      <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
        
        <div style="margin-bottom: var(--spacing-md);">
          <label for="correo" style="display:block; margin-bottom: 5px; font-weight: var(--font-weight-medium);">
            Correo electrónico
          </label>
          <input 
            type="email" 
            id="correo" 
            class="input"
            [class.input-error]="loginForm.get('correo')?.invalid && loginForm.get('correo')?.touched"
            formControlName="correo" 
            placeholder="ejemplo@correo.com" 
          />
          
          <small
            *ngIf="loginForm.get('correo')?.invalid && loginForm.get('correo')?.touched"
            style="color: var(--color-danger); display: block; margin-top: 4px;"
          >
            Email no válido
          </small>
        </div>

        <div style="margin-bottom: var(--spacing-md);">
          <label for="passwd" style="display:block; margin-bottom: 5px; font-weight: var(--font-weight-medium);">
            Contraseña
          </label>
          <input 
            type="password" 
            id="passwd" 
            class="input"
            [class.input-error]="loginForm.get('passwd')?.invalid && loginForm.get('passwd')?.touched"
            formControlName="passwd" 
            placeholder="********" 
          />
        </div>

        <div style="margin-bottom: var(--spacing-lg);">
          <p style="font-size: var(--font-size-small);">
            ¿Olvidaste tu contraseña?
            <a routerLink="/forgot-password" style="font-weight: var(--font-weight-semibold);">
              Recupérala
            </a>.
          </p>
        </div>

        <button 
          type="submit" 
          class="btn btn-primary" 
          [disabled]="loginForm.invalid"
          style="width: 100%; justify-content: center;"
        >
          Acceder
        </button>
      </form>
    </div>

    <div class="modal-overlay" *ngIf="showModal">
      <div class="card modal-box">
        
        <div style="text-align: center; margin-bottom: var(--spacing-sm);">
          <span class="material-icons icon-danger" style="font-size: 48px;">error_outline</span>
        </div>

        <h3 style="text-align: center; color: var(--color-danger);">Error de acceso</h3>
        
        <p style="text-align: center; color: var(--color-text-secondary); margin-bottom: var(--spacing-md);">
          Las credenciales introducidas no son correctas. Por favor, revisa el correo y la contraseña.
        </p>

        <div style="display: flex; justify-content: center;">
          <button class="btn btn-danger" (click)="closeModal()">
            Cerrar y reintentar
          </button>
        </div>

      </div>
    </div>

  </div>
</main>